{"ast":null,"code":"var _jsxFileName = \"/Users/elifdemir/Desktop/week4/jss-exercise-react/src/Register.js\";\nimport React from 'react';\nimport { Form, Button, Container, Grid, Divider } from \"semantic-ui-react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport fetch from \"isomorphic-unfetch\";\nimport { toast } from \"react-toastify\";\nimport './App.css';\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      const {\n        currentTarget\n      } = e;\n      const {\n        value,\n        name\n      } = currentTarget;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        username,\n        password,\n        passwordRepeat\n      } = this.state;\n\n      if (username.length < 5 || username.length > 255) {\n        this.setState({\n          usernameError: \"Lütfen kullanıcı adınızı kontrol edin\"\n        });\n        return;\n      }\n\n      if (password.length < 3 || username.length > 255) {\n        this.setState({\n          passwordError: \"Lütfen şifrenizi kontrol edin\"\n        });\n        return;\n      }\n\n      if (password !== passwordRepeat) {\n        this.setState({\n          passwordError: \"Lütfen şifrelerinizi kontrol edin\",\n          passwordRepeatError: \"Lütfen şifrelerinizi kontrol edin\"\n        });\n        return;\n      }\n\n      fetch(\"http://localhost:8081/api/user\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username,\n          password\n        })\n      }).then(r => {\n        if (r.ok) {\n          return r;\n        }\n\n        if (r.status === 401 || r.status === 403 || r.status === 500) {\n          return Promise.reject(new Error(\"Bir hata oluştu\"));\n        }\n      }).then(r => r.json()).then(response => {\n        toast.success(\"Kayıt başarılı. Giriş sayfasına yönlendiriliyorsunuz.\");\n        setTimeout(() => {\n          this.props.history.push(\"/login\");\n        }, 2000);\n      }).catch(e => {\n        toast.error(e.message);\n      });\n    };\n\n    this.componentDidMount = () => {\n      setInterval(() => {\n        console.log(\"İşlemi tekrarlıyorum\" + new Date());\n      }, 1000);\n    };\n\n    this.render = () => {\n      const {\n        usernameError,\n        passwordError,\n        passwordRepeatError\n      } = this.state;\n      const {\n        showLoginLink\n      } = this.props;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"header\", {\n        className: \"App-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Row, {\n        columns: \"equal\",\n        centered: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Column, {\n        width: 8,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        onReset: e => {\n          e.preventDefault();\n          this.setState({\n            //counter:0,\n            username: \"\",\n            password: \"\",\n            passwordRepeat: \"\"\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Form.Field, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 19\n        }\n      }, \" Kullan\\u0131c\\u0131 ad\\u0131  \"), /*#__PURE__*/React.createElement(Form.Input, {\n        type: \"email\",\n        name: \"username\",\n        required: \"true\",\n        error: usernameError,\n        value: this.state.username,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(Form.Field, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 19\n        }\n      }, \" \\u015Eifre \"), /*#__PURE__*/React.createElement(Form.Input, {\n        type: \"password\",\n        name: \"password\",\n        required: true,\n        error: passwordError,\n        value: this.state.password,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(Form.Field, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 19\n        }\n      }, \" \\u015Eifre Tekrar\\u0131 \"), /*#__PURE__*/React.createElement(Form.Input, {\n        type: \"password\",\n        name: \"passwordRepeat\",\n        required: \"true\",\n        error: passwordRepeatError,\n        value: this.state.passwordRepeat,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(Button.Group, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"submit\",\n        color: \"olive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 19\n        }\n      }, \" Kaydet \"), /*#__PURE__*/React.createElement(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(Link, {\n        to: \"/Login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }\n      }, \" Hesabiniz var mi? Giris yapin.\"))))))));\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      passwordRepeat: \"\" //counter: 0,\n\n    };\n  }\n\n}\n\nexport default withRouter(Register);","map":{"version":3,"sources":["/Users/elifdemir/Desktop/week4/jss-exercise-react/src/Register.js"],"names":["React","Form","Button","Container","Grid","Divider","Link","withRouter","fetch","toast","Register","Component","constructor","props","handleChange","e","currentTarget","value","name","setState","handleSubmit","preventDefault","username","password","passwordRepeat","state","length","usernameError","passwordError","passwordRepeatError","method","headers","body","JSON","stringify","then","r","ok","status","Promise","reject","Error","json","response","success","setTimeout","history","push","catch","error","message","componentDidMount","setInterval","console","log","Date","render","showLoginLink"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Button, Container, Grid, Divider } from \"semantic-ui-react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport fetch from \"isomorphic-unfetch\";\nimport {toast} from \"react-toastify\";\nimport './App.css';\n\nclass Register extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      passwordRepeat: \"\",\n      //counter: 0,\n    };\n  };\n\n  handleChange = (e) => {\n    const {currentTarget} = e;\n    const {value, name} = currentTarget;\n    this.setState( { [name]:value});\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { username, password, passwordRepeat } = this.state;\n    if ( username.length < 5 || username.length > 255 ){\n      this.setState( { \n        usernameError: \"Lütfen kullanıcı adınızı kontrol edin\",\n      });\n      return;\n    }\n\n    if ( password.length < 3 || username.length > 255 ){\n      this.setState( { \n        passwordError: \"Lütfen şifrenizi kontrol edin\",\n      });\n      return;\n    }\n\n    if ( password !== passwordRepeat){\n      this.setState( { \n        passwordError: \"Lütfen şifrelerinizi kontrol edin\",\n        passwordRepeatError: \"Lütfen şifrelerinizi kontrol edin\",\n      });\n      return;\n    }\n\nfetch(\"http://localhost:8081/api/user\", {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\":\"application/json\",\n  },\n  body: JSON.stringify({ username, password }),\n})\n  .then((r) => {\n    if(r.ok) {\n      return r;\n    }\n    if ( r.status === 401 || r.status === 403 || r.status === 500 ) {\n      return Promise.reject( new Error(\"Bir hata oluştu\"));\n    }\n  })\n  .then((r) => r.json())\n  .then((response) => {\n  toast.success(\"Kayıt başarılı. Giriş sayfasına yönlendiriliyorsunuz.\");\n  setTimeout( () =>  {\n    this.props.history.push(\"/login\");\n  }, 2000);\n  })\n  .catch((e) => {\n    toast.error(e.message);\n  });\n};\n\ncomponentDidMount = () => {\n  setInterval(() => {\n    console.log(\"İşlemi tekrarlıyorum\" + new Date());\n  }, 1000);\n};\n \n  render = () => {\n    const { usernameError, passwordError, passwordRepeatError } = this.state;\n    const { showLoginLink } = this.props;\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <Container> \n            <Grid>\n              <Grid.Row columns=\"equal\" centered>\n                <Grid.Column width={8}>\n                  <Form \n                    onSubmit={this.handleSubmit}\n                    onReset={(e) => {\n                      e.preventDefault();\n                      this.setState({\n                        //counter:0,\n                        username: \"\",\n                        password: \"\",\n                        passwordRepeat: \"\",\n                      });\n                    }}\n                  >\n                  \n                  <Form.Field>\n                  <label> Kullanıcı adı  </label>\n                  <Form.Input\n                    type=\"email\" \n                    name=\"username\" \n                    required =\"true\" \n                    error = {usernameError}\n                    value={this.state.username}\n                    onChange={this.handleChange}\n                    />\n                  </Form.Field>\n\n                  <Form.Field> \n                  <label> Şifre </label>\n                  <Form.Input\n                    type=\"password\" \n                    name=\"password\"\n                    required\n                    error = {passwordError}\n                    value={this.state.password}\n                    onChange={this.handleChange}\n                  />\n                  </Form.Field>\n\n                  <Form.Field>\n                  <label> Şifre Tekrarı </label>\n                  <Form.Input\n                    type=\"password\"\n                    name=\"passwordRepeat\" \n                    required =\"true\"\n                    error = {passwordRepeatError}\n                    value={this.state.passwordRepeat}\n                    onChange={this.handleChange}\n                  />\n                  </Form.Field>\n \n                  <Button.Group fluid>\n                  <Button type=\"submit\" color=\"olive\"> Kaydet </Button>\n                  <Divider></Divider>\n                  </Button.Group>   \n                    <Link to=\"/Login\"> Hesabiniz var mi? Giris yapin.</Link>\n                  </Form>\n                </Grid.Column>\n              </Grid.Row>\n            </Grid>\n          </Container>\n        </header>\n      </div>\n    );\n  };\n}\n\nexport default withRouter(Register);\n"]},"metadata":{},"sourceType":"module"}