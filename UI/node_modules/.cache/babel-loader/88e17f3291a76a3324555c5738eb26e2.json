{"ast":null,"code":"var _jsxFileName = \"/Users/elifdemir/Desktop/week4/jss-exercise-react/src/Roles.js\";\nimport { toast } from \"react-toastify\";\nimport \"./App.css\";\nimport { withRouter } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport { Redirect } from 'react-router';\nimport React from \"react\";\nimport { Button, Container, Grid, Header, Table, Label, Menu, Icon, Popup, Select, Input, Form, Segment } from \"semantic-ui-react\";\n\nclass Roles extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.getRole();\n    };\n\n    this.getRole = () => {\n      fetch(\"http://localhost:8081/api/user/getRole\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      }).then(r => {\n        if (r.ok) {\n          return true;\n        }\n\n        if (r.status === 401 || r.status === 403 || r.status === 500 || r.status === 404) {\n          return Promise.reject(new Error(\"Bir hata oluştu\"));\n        }\n      }).then(r => {\n        return r;\n      }).then(data => {\n        if (data.name === \"ROLE_ADMIN\") {\n          this.setState({\n            redirect: true\n          });\n        } else {\n          this.setState({\n            redirect: false\n          });\n        }\n      }).catch(e => {\n        toast.error(e.message);\n      });\n    };\n\n    this.render = () => {\n      if (this.state.redirect) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          push: true,\n          to: \"/dashboard-admin-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 14\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          push: true,\n          to: \"/dashboard\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 14\n          }\n        });\n      }\n    };\n\n    this.state = {\n      book: {},\n      who: [],\n      currentPage: 0,\n      bookID: null,\n      searchWord: \"\",\n      bookFav: []\n    };\n  }\n\n}\n\nexport default withRouter(Roles);","map":{"version":3,"sources":["/Users/elifdemir/Desktop/week4/jss-exercise-react/src/Roles.js"],"names":["toast","withRouter","Link","useHistory","Redirect","React","Button","Container","Grid","Header","Table","Label","Menu","Icon","Popup","Select","Input","Form","Segment","Roles","Component","constructor","props","componentDidMount","getRole","fetch","method","headers","credentials","then","r","ok","status","Promise","reject","Error","data","name","setState","redirect","catch","e","error","message","render","state","book","who","currentPage","bookID","searchWord","bookFav"],"mappings":";AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,OAAO,WAAP;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,MADF,EAEEC,SAFF,EAGEC,IAHF,EAIEC,MAJF,EAKEC,KALF,EAMEC,KANF,EAOEC,IAPF,EAQEC,IARF,EASEC,KATF,EAUEC,MAVF,EAWEC,KAXF,EAYEC,IAZF,EAaEC,OAbF,QAcO,mBAdP;;AAgBA,MAAMC,KAAN,SAAoBd,KAAK,CAACe,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAYnBC,iBAZmB,GAYC,MAAM;AACxB,WAAKC,OAAL;AACD,KAdkB;;AAAA,SAgBnBA,OAhBmB,GAgBT,MAAM;AACdC,MAAAA,KAAK,CAAC,wCAAD,EAA0C;AAC7CC,QAAAA,MAAM,EAAE,KADqC;AAE7CC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFoC;AAK7CC,QAAAA,WAAW,EAAG;AAL+B,OAA1C,CAAL,CAODC,IAPC,CAOKC,CAAD,IAAO;AACT,YAAGA,CAAC,CAACC,EAAL,EAAQ;AACL,iBAAO,IAAP;AACF;;AACD,YAAID,CAAC,CAACE,MAAF,KAAW,GAAX,IAAkBF,CAAC,CAACE,MAAF,KAAa,GAA/B,IAAsCF,CAAC,CAACE,MAAF,KAAa,GAAnD,IAA0DF,CAAC,CAACE,MAAF,KAAW,GAAzE,EAA6E;AACzE,iBAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,iBAAV,CAAf,CAAP;AACH;AACJ,OAdC,EAeDN,IAfC,CAeKC,CAAD,IAAO;AACX,eAAOA,CAAP;AACD,OAjBC,EAkBDD,IAlBC,CAkBKO,IAAD,IAAU;AACd,YAAKA,IAAI,CAACC,IAAL,KAAc,YAAnB,EAAgC;AAC5B,eAAKC,QAAL,CAAc;AAACC,YAAAA,QAAQ,EAAE;AAAX,WAAd;AACH,SAFD,MAGK;AACD,eAAKD,QAAL,CAAc;AAACC,YAAAA,QAAQ,EAAE;AAAX,WAAd;AACH;AACF,OAzBC,EA0BDC,KA1BC,CA0BMC,CAAD,IAAO;AACZzC,QAAAA,KAAK,CAAC0C,KAAN,CAAYD,CAAC,CAACE,OAAd;AACD,OA5BC;AA6BH,KA9CoB;;AAAA,SAgDrBC,MAhDqB,GAgDZ,MAAM;AAEX,UAAI,KAAKC,KAAL,CAAWN,QAAf,EAAyB;AACvB,4BAAO,oBAAC,QAAD;AAAU,UAAA,IAAI,MAAd;AAAe,UAAA,EAAE,EAAC,oBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAFD,MAGK;AACH,4BAAO,oBAAC,QAAD;AAAU,UAAA,IAAI,MAAd;AAAe,UAAA,EAAE,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACF,KAxDkB;;AAEjB,SAAKM,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,GAAG,EAAE,EAFM;AAGXC,MAAAA,WAAW,EAAE,CAHF;AAIXC,MAAAA,MAAM,EAAE,IAJG;AAKXC,MAAAA,UAAU,EAAE,EALD;AAMXC,MAAAA,OAAO,EAAE;AANE,KAAb;AAQD;;AAXiC;;AA4DpC,eAAelD,UAAU,CAACkB,KAAD,CAAzB","sourcesContent":["import { toast } from \"react-toastify\";\nimport \"./App.css\";\nimport { withRouter } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport { Redirect } from 'react-router';\nimport React from \"react\";\nimport {\n  Button,\n  Container,\n  Grid,\n  Header,\n  Table,\n  Label,\n  Menu,\n  Icon,\n  Popup,\n  Select,\n  Input,\n  Form,\n  Segment,\n} from \"semantic-ui-react\";\n\nclass Roles extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      book: {},\n      who: [],\n      currentPage: 0,\n      bookID: null,\n      searchWord: \"\",\n      bookFav: [],\n    };\n  };\n\n  componentDidMount = () => {\n    this.getRole();\n  };\n\n  getRole = () => {\n    fetch(\"http://localhost:8081/api/user/getRole\",{\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      credentials : \"include\",\n  })\n  .then((r) => {\n      if(r.ok){\n         return true;\n      }\n      if( r.status===401 || r.status === 403 || r.status === 500 || r.status===404){\n          return Promise.reject(new Error(\"Bir hata oluştu\"));\n      }\n  })\n  .then((r) => {\n    return r;\n  })\n  .then((data) => {\n    if ( data.name === \"ROLE_ADMIN\"){\n        this.setState({redirect: true});\n    }\n    else {\n        this.setState({redirect: false});\n    }\n  })\n  .catch((e) => {\n    toast.error(e.message);\n  });\n};\n\nrender = () => {\n\n    if (this.state.redirect) {\n      return <Redirect push to=\"/dashboard-admin-1\" />;\n    }\n    else {\n      return <Redirect push to=\"/dashboard\" />;\n    }\n  };\n}\n\nexport default withRouter(Roles);\n"]},"metadata":{},"sourceType":"module"}